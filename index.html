<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>海豚动态经济模型 | 可验证的创新模型</title>
    
    <!-- 字体优化 -->
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600;700;800&family=Inter:wght@300;400;500;600&family=Noto+Sans+SC:wght@300;400;500;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <!-- Chart.js -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    
    <style>
        :root {
            /* 海豚主题色调 */
            --primary: #1E88E5;
            --primary-light: #64B5F6;
            --primary-dark: #1565C0;
            --secondary: #00ACC1;
            --accent: #F57C00;
            
            /* 状态色 */
            --success: #00C853;
            --warning: #FF9800;
            --danger: #F44336;
            --info: #2196F3;
            
            /* 中性色 */
            --dark: #0A1A2F;
            --dark-light: #1A2B3F;
            --gray: #607D8B;
            --gray-light: #B0BEC5;
            --light: #ECEFF1;
            --white: #FFFFFF;
            
            /* 紧凑间距 */
            --space-xs: 0.25rem;
            --space-sm: 0.5rem;
            --space-md: 0.75rem;
            --space-lg: 1rem;
            --space-xl: 1.25rem;
            --space-2xl: 1.5rem;
            
            /* 圆角 */
            --radius-sm: 4px;
            --radius-md: 6px;
            --radius-lg: 8px;
            --radius-xl: 10px;
            --radius-full: 9999px;
            
            /* 字体大小优化 - 更紧凑 */
            --text-xs: 0.75rem;
            --text-sm: 0.8125rem;
            --text-base: 0.875rem;
            --text-lg: 1rem;
            --text-xl: 1.125rem;
            --text-2xl: 1.375rem;
            --text-3xl: 1.625rem;
            --text-4xl: 1.875rem;
            
            /* 边框 */
            --border: 1px solid rgba(255, 255, 255, 0.08);
            --border-light: 1px solid rgba(255, 255, 255, 0.05);
            
            /* 阴影 */
            --shadow-sm: 0 2px 4px rgba(0, 0, 0, 0.1);
            --shadow-md: 0 4px 8px rgba(0, 0, 0, 0.15);
            --shadow-lg: 0 8px 16px rgba(0, 0, 0, 0.2);
        }
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            -webkit-tap-highlight-color: transparent;
        }
        
        html {
            font-size: 16px;
            scroll-behavior: smooth;
            -webkit-font-smoothing: antialiased;
            -moz-osx-font-smoothing: grayscale;
        }
        
        body {
            font-family: 'Noto Sans SC', 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;
            background: linear-gradient(135deg, var(--dark) 0%, #0D1B2A 100%);
            color: var(--light);
            line-height: 1.5;
            overflow-x: hidden;
            font-weight: 400;
        }
        
        /* 优化字体渲染 */
        h1, h2, h3, h4, h5, h6 {
            font-family: 'Poppins', 'Noto Sans SC', sans-serif;
            font-weight: 600;
            letter-spacing: -0.02em;
            line-height: 1.2;
        }
        
        /* 紧凑容器 */
        .container {
            width: 100%;
            max-width: 480px;
            margin: 0 auto;
            padding: var(--space-md) var(--space-md) 0;
        }
        
        /* 顶部横幅 - 更紧凑 */
        .top-banner {
            background: linear-gradient(135deg, var(--primary-dark), var(--secondary));
            padding: var(--space-xl) var(--space-md);
            text-align: center;
            border-radius: var(--radius-xl);
            margin-bottom: var(--space-lg);
            position: relative;
            overflow: hidden;
            box-shadow: var(--shadow-md);
        }
        
        .main-title {
            font-size: var(--text-3xl);
            font-weight: 800;
            color: var(--white);
            margin-bottom: var(--space-sm);
            line-height: 1.1;
            text-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);
        }
        
        .main-subtitle {
            font-size: var(--text-base);
            color: rgba(255, 255, 255, 0.9);
            max-width: 100%;
            margin: 0 auto;
            line-height: 1.4;
            font-weight: 400;
        }
        
        /* 文字入口导航 - 更紧凑 */
        .text-nav {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: var(--space-sm);
            margin: var(--space-lg) 0;
        }
        
        .nav-card {
            background: var(--dark-light);
            border-radius: var(--radius-lg);
            padding: var(--space-md);
            text-align: center;
            border: var(--border);
            transition: all 0.2s ease;
            cursor: pointer;
            -webkit-touch-callout: none;
            user-select: none;
            min-height: 90px;
            display: flex;
            flex-direction: column;
            justify-content: center;
        }
        
        .nav-card:hover, .nav-card:active {
            transform: translateY(-2px);
            border-color: var(--primary);
            box-shadow: 0 4px 12px rgba(30, 136, 229, 0.2);
        }
        
        .nav-icon {
            width: 36px;
            height: 36px;
            background: rgba(30, 136, 229, 0.1);
            border-radius: var(--radius-md);
            display: flex;
            align-items: center;
            justify-content: center;
            margin: 0 auto var(--space-sm);
            font-size: 1.125rem;
            color: var(--primary);
        }
        
        .nav-title {
            font-size: var(--text-sm);
            font-weight: 600;
            color: var(--white);
            margin-bottom: var(--space-xs);
        }
        
        .nav-desc {
            font-size: var(--text-xs);
            color: var(--gray);
            line-height: 1.3;
        }
        
        /* 模型区域 - 更紧凑 */
        .model-section {
            background: var(--dark-light);
            border-radius: var(--radius-lg);
            padding: var(--space-lg);
            margin-bottom: var(--space-lg);
            border: var(--border);
        }
        
        .section-title {
            font-size: var(--text-xl);
            margin-bottom: var(--space-md);
            color: var(--white);
            display: flex;
            align-items: center;
            gap: var(--space-sm);
        }
        
        .section-title i {
            color: var(--primary);
        }
        
        /* 图表容器优化 - 更紧凑 */
        .charts-grid {
            display: grid;
            grid-template-columns: 1fr;
            gap: var(--space-md);
            margin: var(--space-md) 0;
        }
        
        .chart-container {
            background: rgba(255, 255, 255, 0.03);
            border-radius: var(--radius-md);
            padding: var(--space-md);
            border: var(--border);
        }
        
        .chart-title {
            font-size: var(--text-base);
            font-weight: 600;
            margin-bottom: var(--space-sm);
            color: var(--white);
        }
        
        .chart-wrapper {
            height: 180px;
            position: relative;
        }
        
        /* 指标网格 - 更紧凑 */
        .metrics-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: var(--space-sm);
            margin-top: var(--space-md);
        }
        
        .metric-card {
            background: rgba(255, 255, 255, 0.03);
            border-radius: var(--radius-md);
            padding: var(--space-sm);
            border: var(--border);
            min-height: 70px;
            display: flex;
            flex-direction: column;
            justify-content: center;
        }
        
        .metric-value {
            font-size: var(--text-lg);
            font-weight: 700;
            color: var(--white);
            margin-bottom: 2px;
            line-height: 1.2;
        }
        
        .metric-label {
            font-size: var(--text-xs);
            color: var(--gray);
            text-transform: uppercase;
            letter-spacing: 0.3px;
            line-height: 1.2;
        }
        
        /* 控制面板 - 更紧凑 */
        .control-section {
            background: var(--dark-light);
            border-radius: var(--radius-lg);
            padding: var(--space-lg);
            margin-bottom: var(--space-lg);
            border: var(--border);
        }
        
        .input-group {
            margin-bottom: var(--space-md);
        }
        
        .input-label {
            display: block;
            margin-bottom: var(--space-xs);
            font-weight: 500;
            color: var(--light);
            font-size: var(--text-sm);
        }
        
        .input-with-unit {
            position: relative;
        }
        
        .input-with-unit input {
            width: 100%;
            padding: 10px 12px;
            background: rgba(255, 255, 255, 0.05);
            border: var(--border);
            border-radius: var(--radius-md);
            color: var(--light);
            font-size: var(--text-base);
            font-family: inherit;
            -webkit-appearance: none;
            appearance: none;
        }
        
        .input-with-unit input:focus {
            outline: none;
            border-color: var(--primary);
            box-shadow: 0 0 0 2px rgba(30, 136, 229, 0.1);
        }
        
        .input-unit {
            position: absolute;
            right: 12px;
            top: 50%;
            transform: translateY(-50%);
            color: var(--gray);
            font-weight: 500;
            font-size: var(--text-sm);
        }
        
        /* 滑块优化 - 更紧凑 */
        .slider-group {
            margin-bottom: var(--space-md);
        }
        
        .slider-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: var(--space-xs);
        }
        
        .slider-label {
            font-weight: 500;
            color: var(--light);
            font-size: var(--text-sm);
        }
        
        .slider-value {
            font-weight: 600;
            color: var(--primary);
            background: rgba(30, 136, 229, 0.1);
            padding: 3px 8px;
            border-radius: var(--radius-full);
            font-size: var(--text-xs);
        }
        
        input[type="range"] {
            width: 100%;
            height: 6px;
            -webkit-appearance: none;
            background: rgba(255, 255, 255, 0.1);
            border-radius: var(--radius-full);
            outline: none;
            touch-action: manipulation;
        }
        
        input[type="range"]::-webkit-slider-thumb {
            -webkit-appearance: none;
            width: 20px;
            height: 20px;
            min-height: 20px;
            border-radius: 50%;
            background: var(--primary);
            cursor: pointer;
            border: 3px solid var(--dark);
            box-shadow: var(--shadow-sm);
            touch-action: manipulation;
        }
        
        /* 按钮优化 - 更紧凑 */
        .btn {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            gap: var(--space-sm);
            padding: 10px 16px;
            border: none;
            border-radius: var(--radius-md);
            font-family: inherit;
            font-weight: 600;
            font-size: var(--text-base);
            cursor: pointer;
            transition: all 0.2s ease;
            width: 100%;
            margin-top: var(--space-sm);
            min-height: 40px;
            -webkit-touch-callout: none;
            user-select: none;
        }
        
        .btn:hover {
            transform: translateY(-1px);
        }
        
        .btn-primary {
            background: linear-gradient(135deg, var(--primary), var(--primary-dark));
            color: var(--white);
            box-shadow: 0 2px 8px rgba(30, 136, 229, 0.3);
        }
        
        .btn-secondary {
            background: rgba(255, 255, 255, 0.05);
            color: var(--light);
            border: var(--border);
        }
        
        /* 紧凑按钮组 */
        .btn-group {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: var(--space-sm);
            margin-top: var(--space-md);
        }
        
        /* 文字版本内容区 - 更紧凑 */
        .text-content {
            background: var(--dark-light);
            border-radius: var(--radius-lg);
            padding: var(--space-lg);
            margin-bottom: var(--space-lg);
            border: var(--border);
            display: none;
        }
        
        .text-content.active {
            display: block;
            animation: fadeIn 0.3s ease;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(5px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        .content-title {
            font-size: var(--text-xl);
            font-weight: 700;
            margin-bottom: var(--space-md);
            color: var(--white);
        }
        
        .content-section {
            margin-bottom: var(--space-lg);
        }
        
        .content-section h3 {
            font-size: var(--text-lg);
            font-weight: 600;
            margin-bottom: var(--space-sm);
            color: var(--white);
        }
        
        .content-section p {
            color: var(--gray-light);
            margin-bottom: var(--space-sm);
            line-height: 1.5;
            font-size: var(--text-sm);
        }
        
        .content-section ul, .content-section ol {
            padding-left: var(--space-lg);
            margin-bottom: var(--space-sm);
        }
        
        .content-section li {
            color: var(--gray-light);
            margin-bottom: var(--space-xs);
            line-height: 1.5;
            font-size: var(--text-sm);
        }
        
        /* 页脚 - 更紧凑 */
        .footer {
            text-align: center;
            padding: var(--space-xl) 0;
            color: var(--gray);
            font-size: var(--text-xs);
            border-top: var(--border);
            margin-top: var(--space-lg);
        }
        
        .social-links {
            display: flex;
            justify-content: center;
            gap: var(--space-md);
            margin-bottom: var(--space-md);
        }
        
        .social-links a {
            color: var(--gray);
            font-size: 1rem;
            transition: color 0.2s ease;
        }
        
        .social-links a:hover {
            color: var(--primary);
        }
        
        /* 新增：折叠面板 */
        .accordion {
            margin-top: var(--space-md);
        }
        
        .accordion-item {
            border-bottom: var(--border-light);
        }
        
        .accordion-item:last-child {
            border-bottom: none;
        }
        
        .accordion-header {
            padding: var(--space-sm) 0;
            cursor: pointer;
            display: flex;
            justify-content: space-between;
            align-items: center;
            font-weight: 500;
            color: var(--light);
        }
        
        .accordion-content {
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.3s ease;
            padding: 0;
        }
        
        .accordion-content.active {
            max-height: 500px;
            padding: var(--space-sm) 0;
        }
        
        /* 新增：标签组 */
        .tag-group {
            display: flex;
            flex-wrap: wrap;
            gap: var(--space-xs);
            margin: var(--space-sm) 0;
        }
        
        .tag {
            display: inline-block;
            padding: 3px 8px;
            background: rgba(30, 136, 229, 0.1);
            color: var(--primary);
            border-radius: var(--radius-full);
            font-size: var(--text-xs);
            font-weight: 500;
        }
        
        /* 新增：紧凑表格 */
        .compact-table {
            width: 100%;
            font-size: var(--text-xs);
            margin: var(--space-sm) 0;
        }
        
        .compact-table th {
            text-align: left;
            padding: 6px 8px;
            font-weight: 600;
            color: var(--gray);
            border-bottom: var(--border);
        }
        
        .compact-table td {
            padding: 6px 8px;
            color: var(--light);
            border-bottom: var(--border-light);
        }
        
        /* 新增：折叠/展开按钮 */
        .toggle-btn {
            background: transparent;
            border: none;
            color: var(--primary);
            font-size: var(--text-sm);
            cursor: pointer;
            display: flex;
            align-items: center;
            gap: var(--space-xs);
            padding: var(--space-xs) 0;
            margin-top: var(--space-xs);
        }
        
        /* 新增：分页指示器 */
        .pagination {
            display: flex;
            justify-content: center;
            gap: var(--space-xs);
            margin: var(--space-md) 0;
        }
        
        .page-dot {
            width: 6px;
            height: 6px;
            border-radius: 50%;
            background: rgba(255, 255, 255, 0.2);
            transition: all 0.2s ease;
        }
        
        .page-dot.active {
            background: var(--primary);
            width: 20px;
            border-radius: var(--radius-full);
        }
        
        /* 响应式优化 - 更紧凑 */
        @media (max-width: 480px) {
            .container {
                padding: var(--space-sm) var(--space-sm) 0;
            }
            
            .top-banner {
                padding: var(--space-lg) var(--space-sm);
                margin-bottom: var(--space-md);
            }
            
            .main-title {
                font-size: var(--text-2xl);
            }
            
            .main-subtitle {
                font-size: var(--text-sm);
            }
            
            .text-nav {
                gap: var(--space-xs);
                margin: var(--space-md) 0;
            }
            
            .nav-card {
                padding: var(--space-sm);
                min-height: 80px;
            }
            
            .nav-icon {
                width: 32px;
                height: 32px;
                font-size: 1rem;
                margin-bottom: 4px;
            }
            
            .model-section {
                padding: var(--space-md);
                margin-bottom: var(--space-md);
            }
            
            .section-title {
                font-size: var(--text-lg);
                margin-bottom: var(--space-sm);
            }
            
            .chart-wrapper {
                height: 160px;
            }
            
            .metrics-grid {
                gap: var(--space-xs);
                margin-top: var(--space-sm);
            }
            
            .metric-card {
                padding: 8px;
                min-height: 65px;
            }
            
            .metric-value {
                font-size: var(--text-base);
            }
        }
        
        @media (min-width: 768px) {
            .container {
                max-width: 768px;
                padding: var(--space-lg) var(--space-lg) 0;
            }
            
            .main-title {
                font-size: var(--text-4xl);
            }
            
            .main-subtitle {
                font-size: var(--text-lg);
                max-width: 600px;
            }
            
            .chart-wrapper {
                height: 200px;
            }
            
            .metrics-grid {
                grid-template-columns: repeat(4, 1fr);
            }
            
            .text-nav {
                gap: var(--space-sm);
            }
        }
        
        /* 工具类 */
        .text-gradient {
            background: linear-gradient(135deg, var(--primary), var(--accent));
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
        }
        
        .mt-xs { margin-top: var(--space-xs); }
        .mt-sm { margin-top: var(--space-sm); }
        .mt-md { margin-top: var(--space-md); }
        .mt-lg { margin-top: var(--space-lg); }
        .mt-xl { margin-top: var(--space-xl); }
        .mb-xs { margin-bottom: var(--space-xs); }
        .mb-sm { margin-bottom: var(--space-sm); }
        .mb-md { margin-bottom: var(--space-md); }
        .mb-lg { margin-bottom: var(--space-lg); }
        
        /* 返回顶部按钮 */
        .back-to-top {
            position: fixed;
            bottom: 16px;
            right: 12px;
            width: 40px;
            height: 40px;
            background: var(--primary);
            color: white;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            box-shadow: var(--shadow-md);
            transition: all 0.3s ease;
            z-index: 999;
            opacity: 0;
            transform: translateY(20px);
            -webkit-touch-callout: none;
            user-select: none;
            font-size: 0.875rem;
        }
        
        .back-to-top.visible {
            opacity: 1;
            transform: translateY(0);
        }
        
        .back-to-top:hover {
            background: var(--primary-dark);
            transform: translateY(-1px);
        }
        
        /* 价格机制选择器 - 紧凑版 */
        .price-mechanism-selector {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: var(--space-xs);
            margin-top: var(--space-sm);
            margin-bottom: var(--space-md);
        }
        
        .mechanism-btn {
            padding: 6px 10px;
            background: rgba(255, 255, 255, 0.05);
            border: var(--border);
            border-radius: var(--radius-md);
            color: var(--gray-light);
            font-size: var(--text-xs);
            font-weight: 500;
            cursor: pointer;
            transition: all 0.2s ease;
            text-align: center;
            -webkit-touch-callout: none;
            user-select: none;
        }
        
        .mechanism-btn:hover {
            background: rgba(30, 136, 229, 0.1);
            color: var(--light);
        }
        
        .mechanism-btn.active {
            background: rgba(30, 136, 229, 0.2);
            color: var(--primary-light);
            border-color: var(--primary);
        }
        
        /* 折叠内容区域 */
        .collapsible-section {
            margin-top: var(--space-sm);
        }
        
        .collapsible-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            cursor: pointer;
            padding: var(--space-sm) 0;
            border-bottom: var(--border-light);
        }
        
        .collapsible-content {
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.3s ease;
        }
        
        .collapsible-content.expanded {
            max-height: 1000px;
            padding-top: var(--space-sm);
        }
        
        /* 水平分隔线 */
        .divider {
            height: 1px;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.1), transparent);
            margin: var(--space-md) 0;
        }
        
        /* 卡片组布局 */
        .card-group {
            display: grid;
            grid-template-columns: 1fr;
            gap: var(--space-sm);
            margin: var(--space-sm) 0;
        }
        
        /* 加载状态 */
        .loading-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(10, 26, 47, 0.9);
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            z-index: 10000;
            display: none;
        }
        
        .loading-spinner {
            width: 40px;
            height: 40px;
            border: 3px solid rgba(30, 136, 229, 0.3);
            border-radius: 50%;
            border-top-color: var(--primary);
            animation: spin 1s linear infinite;
            margin-bottom: var(--space-md);
        }
        
        @keyframes spin {
            to { transform: rotate(360deg); }
        }
        
        .loading-text {
            color: var(--light);
            font-size: var(--text-sm);
            font-weight: 500;
        }
        
        /* 触摸优化 */
        @media (hover: none) and (pointer: coarse) {
            .nav-card:hover {
                transform: none;
            }
            
            .btn:hover {
                transform: none;
            }
            
            .back-to-top:hover {
                transform: none;
            }
        }
    </style>
</head>
<body>
    <!-- 加载状态 -->
    <div class="loading-overlay" id="loadingOverlay">
        <div class="loading-spinner"></div>
        <div class="loading-text" id="loadingText">加载中...</div>
    </div>
    
    <!-- 返回顶部按钮 -->
    <div class="back-to-top" id="backToTop">
        <i class="fas fa-chevron-up"></i>
    </div>
    
    <div class="container">
        <!-- 顶部横幅 -->
        <section class="top-banner">
            <h1 class="main-title">海豚动态经济模型</h1>
            <p class="main-subtitle">
                基于X Layer的下一代质押经济协议，创新性社区协同策略，集成OKX Boost，实现可持续收益飞轮
            </p>
        </section>

        <!-- 文字入口导航 -->
        <section class="text-nav">
            <div class="nav-card" data-content="model">
                <div class="nav-icon">
                    <i class="fas fa-sitemap"></i>
                </div>
                <div class="nav-title">经济模型</div>
                <div class="nav-desc">完整架构与机制详解</div>
            </div>
            
            <div class="nav-card" data-content="guide">
                <div class="nav-icon">
                    <i class="fas fa-book-open"></i>
                </div>
                <div class="nav-title">操作指南</div>
                <div class="nav-desc">从入门到精通</div>
            </div>
            
            <div class="nav-card" data-content="faq">
                <div class="nav-icon">
                    <i class="fas fa-question-circle"></i>
                </div>
                <div class="nav-title">常见问题</div>
                <div class="nav-desc">解答您的疑惑</div>
            </div>
        </section>

        <!-- 折叠内容：公平发射资本利得 -->
        <section class="model-section collapsible-section">
            <div class="collapsible-header" id="capitalGainHeader">
                <h2 class="section-title">
                    <i class="fas fa-rocket"></i> 公平发射资本利得
                </h2>
                <i class="fas fa-chevron-down" id="capitalGainIcon"></i>
            </div>
            <div class="collapsible-content" id="capitalGainContent">
                <div class="metrics-grid mt-sm">
                    <div class="metric-card" style="background: rgba(245, 124, 0, 0.1); border-color: rgba(245, 124, 0, 0.2);">
                        <div class="metric-value" id="initialGrowth">+350%</div>
                        <div class="metric-label">预期初期涨幅</div>
                    </div>
                    <div class="metric-card" style="background: rgba(0, 200, 83, 0.1); border-color: rgba(0, 200, 83, 0.2);">
                        <div class="metric-value" id="capitalGain">$1,250</div>
                        <div class="metric-label">资本利得(模拟)</div>
                    </div>
                </div>
                
                <p class="mt-sm" style="color: var(--gray-light); font-size: var(--text-sm); line-height: 1.4;">
                    基于公平发射机制，H代币在初期具有巨大的价格增长潜力。早期参与者不仅能获得高额质押收益，还能享受到代币价格上涨带来的资本利得。
                </p>
                
                <div class="mt-sm" style="padding: var(--space-sm); background: rgba(255, 255, 255, 0.03); border-radius: var(--radius-md);">
                    <h4 style="font-size: var(--text-sm); color: var(--primary-light); margin-bottom: 4px; display: flex; align-items: center; gap: 6px;">
                        <i class="fas fa-lightbulb"></i> 资本利得计算公式
                    </h4>
                    <p style="color: var(--gray); font-size: var(--text-xs); line-height: 1.3;">
                        资本利得 = (当前H价格 - 平均获得成本) × 持有H数量<br>
                        早期参与者由于获得成本低，在价格快速上涨阶段将获得显著的资本利得收益。
                    </p>
                </div>
            </div>
        </section>

        <!-- 动态模型区域 -->
        <section class="model-section">
            <h2 class="section-title">
                <i class="fas fa-chart-line"></i> 经济模型可视化
            </h2>
            
            <!-- 价格机制选择器 -->
            <div class="price-mechanism-selector">
                <div class="mechanism-btn active" data-mechanism="tvl">
                    <i class="fas fa-chart-line"></i> TVL驱动
                </div>
                <div class="mechanism-btn" data-mechanism="market">
                    <i class="fas fa-balance-scale"></i> 市场供需
                </div>
                <div class="mechanism-btn" data-mechanism="hybrid">
                    <i class="fas fa-sync-alt"></i> 混合动力
                </div>
                <div class="mechanism-btn" data-mechanism="growth">
                    <i class="fas fa-rocket"></i> 成长飞轮
                </div>
            </div>
            
            <!-- 多图表展示 -->
            <div class="charts-grid">
                <div class="chart-container">
                    <h3 class="chart-title">H代币价格趋势</h3>
                    <div class="chart-wrapper">
                        <canvas id="priceChart"></canvas>
                    </div>
                    <div class="metric-card mt-sm">
                        <div class="metric-value" id="priceChange">+12.5%</div>
                        <div class="metric-label">24小时涨跌幅</div>
                    </div>
                </div>
                
                <div class="chart-container">
                    <h3 class="chart-title">收益分配比例</h3>
                    <div class="chart-wrapper">
                        <canvas id="revenueChart"></canvas>
                    </div>
                </div>
            </div>
            
            <!-- 关键指标 -->
            <div class="metrics-grid">
                <div class="metric-card">
                    <div class="metric-value" id="currentPrice">$0.0100</div>
                    <div class="metric-label">H实时价格</div>
                </div>
                <div class="metric-card">
                    <div class="metric-value" id="totalStaked">$200K</div>
                    <div class="metric-label">质押总额(TVL)</div>
                </div>
                <div class="metric-card">
                    <div class="metric-value" id="dailyVolume">$85K</div>
                    <div class="metric-label">日交易量</div>
                </div>
                <div class="metric-card">
                    <div class="metric-value" id="marketCap">$2.5M</div>
                    <div class="metric-label">流通市值</div>
                </div>
            </div>
        </section>

        <!-- 控制面板 -->
        <section class="control-section">
            <h2 class="section-title">
                <i class="fas fa-sliders-h"></i> 模拟器控制台
            </h2>
            
            <!-- 质押金额 -->
            <div class="input-group">
                <label class="input-label">您的质押金额 (USDT)</label>
                <div class="input-with-unit">
                    <input type="number" id="stakeAmount" value="1000" min="100" max="100000" step="100">
                    <span class="input-unit">USDT</span>
                </div>
            </div>
            
            <!-- 质押天数 -->
            <div class="slider-group">
                <div class="slider-header">
                    <span class="slider-label">质押天数</span>
                    <span class="slider-value" id="daysValue">45天</span>
                </div>
                <input type="range" id="stakeDays" min="1" max="90" value="45" step="1">
            </div>
            
            <!-- 交易量 -->
            <div class="slider-group">
                <div class="slider-header">
                    <span class="slider-label">日交易量</span>
                    <span class="slider-value" id="volumeValue">$10,000</span>
                </div>
                <input type="range" id="dailyTradeVolume" min="1000" max="50000" value="10000" step="1000">
            </div>
            
            <!-- 价格机制强度 -->
            <div class="slider-group">
                <div class="slider-header">
                    <span class="slider-label">价格机制强度</span>
                    <span class="slider-value" id="mechanismStrength">中</span>
                </div>
                <input type="range" id="priceMechanismStrength" min="1" max="10" value="5" step="1">
            </div>
            
            <!-- 按钮组 -->
            <div class="btn-group">
                <button id="calculateBtn" class="btn btn-primary">
                    <i class="fas fa-calculator"></i> 计算收益
                </button>
                <button id="simulateBtn" class="btn btn-secondary">
                    <i class="fas fa-play"></i> 30天模拟
                </button>
            </div>
            
            <div class="btn-group mt-sm">
                <button id="exportBtn" class="btn btn-secondary">
                    <i class="fas fa-download"></i> 导出数据
                </button>
                <button id="resetBtn" class="btn btn-secondary">
                    <i class="fas fa-redo"></i> 重置
                </button>
            </div>
        </section>

        <!-- 收益展示区 -->
        <section class="model-section">
            <h2 class="section-title">
                <i class="fas fa-coins"></i> 您的收益分析
            </h2>
            
            <div class="metrics-grid">
                <div class="metric-card" style="background: rgba(0, 200, 83, 0.1); border-color: rgba(0, 200, 83, 0.2);">
                    <div class="metric-value" id="dailyEarn">$8.00</div>
                    <div class="metric-label">日收益</div>
                </div>
                <div class="metric-card" style="background: rgba(0, 200, 83, 0.1); border-color: rgba(0, 200, 83, 0.2);">
                    <div class="metric-value" id="totalEarn">$360</div>
                    <div class="metric-label">质押收益</div>
                </div>
                <div class="metric-card" style="background: rgba(30, 136, 229, 0.1); border-color: rgba(30, 136, 229, 0.2);">
                    <div class="metric-value" id="capitalGainTotal">$1,250</div>
                    <div class="metric-label">资本利得</div>
                </div>
                <div class="metric-card" style="background: rgba(245, 124, 0, 0.1); border-color: rgba(245, 124, 0, 0.2);">
                    <div class="metric-value" id="totalWithGain">$1,610</div>
                    <div class="metric-label">总收益</div>
                </div>
            </div>
            
            <!-- 折叠的附加指标 -->
            <div class="collapsible-section mt-sm">
                <div class="collapsible-header" id="additionalMetricsHeader">
                    <h3 style="font-size: var(--text-base); color: var(--light);">附加指标</h3>
                    <i class="fas fa-chevron-down" id="additionalMetricsIcon"></i>
                </div>
                <div class="collapsible-content" id="additionalMetricsContent">
                    <div class="metrics-grid mt-sm">
                        <div class="metric-card" style="background: rgba(30, 136, 229, 0.1); border-color: rgba(30, 136, 229, 0.2);">
                            <div class="metric-value" id="apyValue">292%</div>
                            <div class="metric-label">年化APY</div>
                        </div>
                        <div class="metric-card" style="background: rgba(255, 152, 0, 0.1); border-color: rgba(255, 152, 0, 0.2);">
                            <div class="metric-value" id="boostPoints">4.25</div>
                            <div class="metric-label">Boost积分</div>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- 收益说明 -->
            <div class="mt-md" style="padding: var(--space-sm); background: rgba(30, 136, 229, 0.05); border-radius: var(--radius-md);">
                <h4 style="font-size: var(--text-sm); color: var(--primary-light); margin-bottom: 6px;">双收益机制说明</h4>
                <ul style="color: var(--gray); font-size: var(--text-xs); line-height: 1.4; padding-left: 16px;">
                    <li><strong>质押收益</strong>: 每日20点发放等值USDT的H代币，价值稳定</li>
                    <li><strong>资本利得</strong>: 随着H代币价格上涨，早期获得的H代币价值增长，形成额外收益</li>
                    <li><strong>收益飞轮</strong>: 更多用户参与 → 更多交易 → 更多回购销毁 → 价格上升 → 更高收益</li>
                </ul>
            </div>
        </section>

        <!-- 协议健康度仪表盘 -->
        <section class="model-section">
            <h2 class="section-title">
                <i class="fas fa-heartbeat"></i> 协议健康度
            </h2>
            
            <div class="charts-grid">
                <div class="chart-container">
                    <h3 class="chart-title">资金利用率</h3>
                    <div class="chart-wrapper">
                        <canvas id="utilizationChart"></canvas>
                    </div>
                    <div class="metric-card mt-sm">
                        <div class="metric-value" id="utilizationRate">72.5%</div>
                        <div class="metric-label">当前资金利用率</div>
                    </div>
                </div>
                
                <div class="chart-container">
                    <h3 class="chart-title">风险敞口分析</h3>
                    <div class="chart-wrapper">
                        <canvas id="riskChart"></canvas>
                    </div>
                    <div class="metric-card mt-sm">
                        <div class="metric-value" id="riskScore">低风险</div>
                        <div class="metric-label">当前风险等级</div>
                    </div>
                </div>
            </div>
            
            <!-- 协议关键指标 -->
            <div class="metrics-grid mt-sm">
                <div class="metric-card" style="background: rgba(244, 67, 54, 0.1); border-color: rgba(244, 67, 54, 0.2);">
                    <div class="metric-value" id="reserveRatio">1.8x</div>
                    <div class="metric-label">储备金覆盖率</div>
                </div>
                <div class="metric-card" style="background: rgba(0, 200, 83, 0.1); border-color: rgba(0, 200, 83, 0.2);">
                    <div class="metric-value" id="liquidityDepth">$125K</div>
                    <div class="metric-label">流动性深度</div>
                </div>
                <div class="metric-card" style="background: rgba(0, 172, 193, 0.1); border-color: rgba(0, 172, 193, 0.2);">
                    <div class="metric-value" id="volatilityIndex">18.2%</div>
                    <div class="metric-label">30日波动率</div>
                </div>
                <div class="metric-card" style="background: rgba(255, 152, 0, 0.1); border-color: rgba(255, 152, 0, 0.2);">
                    <div class="metric-value" id="pegDeviation">-2.1%</div>
                    <div class="metric-label">价格锚定偏差</div>
                </div>
            </div>
        </section>

        <!-- 折叠内容：模型评估结果 -->
        <section class="model-section collapsible-section" id="evaluationSection" style="display: none;">
            <div class="collapsible-header" id="evaluationHeader">
                <h2 class="section-title">
                    <i class="fas fa-star"></i> 模型模拟评估
                </h2>
                <i class="fas fa-chevron-down" id="evaluationIcon"></i>
            </div>
            <div class="collapsible-content" id="evaluationContent">
                <div class="metrics-grid mt-sm">
                    <div class="metric-card" style="background: rgba(30, 136, 229, 0.1); border-color: rgba(30, 136, 229, 0.2);">
                        <div class="metric-value" id="totalScore">86.5</div>
                        <div class="metric-label">综合评分</div>
                    </div>
                    <div class="metric-card" style="background: rgba(0, 200, 83, 0.1); border-color: rgba(0, 200, 83, 0.2);">
                        <div class="metric-value" id="priceGrowthScore">92%</div>
                        <div class="metric-label">价格增长评分</div>
                    </div>
                    <div class="metric-card" style="background: rgba(255, 152, 0, 0.1); border-color: rgba(255, 152, 0, 0.2);">
                        <div class="metric-value" id="stabilityScore">88%</div>
                        <div class="metric-label">稳定性评分</div>
                    </div>
                    <div class="metric-card" style="background: rgba(0, 172, 193, 0.1); border-color: rgba(0, 172, 193, 0.2);">
                        <div class="metric-value" id="userGrowthScore">85%</div>
                        <div class="metric-label">用户增长评分</div>
                    </div>
                </div>
                
                <div class="mt-sm" style="padding: var(--space-sm); background: rgba(255, 255, 255, 0.03); border-radius: var(--radius-md);">
                    <h4 style="font-size: var(--text-sm); color: var(--primary-light); margin-bottom: 4px;">
                        <i class="fas fa-chart-bar"></i> 综合评估报告
                    </h4>
                    <p style="color: var(--gray); font-size: var(--text-xs); line-height: 1.4;" id="evaluationReport">
                        模型表现优秀，价格增长机制有效，TVL与价格正相关关系明显。建议继续优化回购销毁机制，增强价格稳定性。
                    </p>
                </div>
            </div>
        </section>

        <!-- 文字版本内容区 -->
        <!-- 经济模型详解 -->
        <section id="modelContent" class="text-content">
            <h2 class="content-title">海豚动态经济模型完整架构</h2>
            
            <div class="accordion">
                <div class="accordion-item">
                    <div class="accordion-header">
                        <span>1. 双代币经济系统</span>
                        <i class="fas fa-chevron-down"></i>
                    </div>
                    <div class="accordion-content">
                        <p>海豚经济模型采用双代币设计，通过公平发射机制确保社区驱动的可持续发展。</p>
                        
                        <h4 class="mt-sm">H代币 (基础资产)</h4>
                        <ul>
                            <li><strong>总供应量</strong>: 10亿枚，固定发行，永不增发</li>
                            <li><strong>发行方式</strong>: 100%公平发射，社区驱动</li>
                            <li><strong>核心功能</strong>: 质押收益资产、交易媒介、Boost参与凭证</li>
                            <li><strong>交易税费</strong>: 买卖各5%，总计10%，用于回购销毁和奖励</li>
                        </ul>
                        
                        <h4 class="mt-sm">DPH代币 (平台治理)</h4>
                        <ul>
                            <li><strong>总供应量</strong>: 1亿枚，逐步释放</li>
                            <li><strong>核心功能</strong>: 协议治理、手续费分红、生态激励</li>
                            <li><strong>分配机制</strong>: 质押奖励、社区空投、生态建设、团队激励</li>
                        </ul>
                    </div>
                </div>
                
                <div class="accordion-item">
                    <div class="accordion-header">
                        <span>2. 双收益机制：质押收益 + 资本利得</span>
                        <i class="fas fa-chevron-down"></i>
                    </div>
                    <div class="accordion-content">
                        <p>海豚模型创造性地将传统DeFi质押收益与公平发射的资本利得相结合。</p>
                        
                        <h4 class="mt-sm">阶梯利率表</h4>
                        <table class="compact-table">
                            <thead>
                                <tr>
                                    <th>阶段</th>
                                    <th>日利率</th>
                                    <th>年化APY</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>1-7天</td>
                                    <td>0.5%</td>
                                    <td>182.5%</td>
                                </tr>
                                <tr>
                                    <td>8-15天</td>
                                    <td>0.6%</td>
                                    <td>219.0%</td>
                                </tr>
                                <tr>
                                    <td>16-30天</td>
                                    <td>0.8%</td>
                                    <td>292.0%</td>
                                </tr>
                                <tr>
                                    <td>31-60天</td>
                                    <td>1.0%</td>
                                    <td>365.0%</td>
                                </tr>
                                <tr>
                                    <td>61+天</td>
                                    <td>1.2%</td>
                                    <td>438.0%</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
                
                <div class="accordion-item">
                    <div class="accordion-header">
                        <span>3. OKX Boost协同策略</span>
                        <i class="fas fa-chevron-down"></i>
                    </div>
                    <div class="accordion-content">
                        <p>深度整合OKX Boost，为社区创造多重收益通道。</p>
                        
                        <h4 class="mt-sm">Boost积分计算</h4>
                        <ul>
                            <li><strong>基础系数</strong>: 实际交易量 × 0.85 = Boost交易量</li>
                            <li><strong>统计周期</strong>: 10天滚动窗口</li>
                            <li><strong>积分门槛</strong>: $500 Boost交易量 = 1积分</li>
                            <li><strong>奖励分配</strong>: 按积分比例瓜分空投奖池</li>
                        </ul>
                    </div>
                </div>
                
                <div class="accordion-item">
                    <div class="accordion-header">
                        <span>4. 可持续收益飞轮</span>
                        <i class="fas fa-chevron-down"></i>
                    </div>
                    <div class="accordion-content">
                        <h4>飞轮效应机制</h4>
                        <ol>
                            <li>更多用户质押 → 增加协议TVL和稳定性</li>
                            <li>更多交易发生 → 产生更多手续费收入</li>
                            <li>更多回购销毁 → 减少流通量，提升代币价值</li>
                            <li>价格持续上涨 → 吸引更多用户加入</li>
                            <li>更高收益预期 → 形成正向循环</li>
                        </ol>
                    </div>
                </div>
            </div>
        </section>

        <!-- 操作指南 -->
        <section id="guideContent" class="text-content">
            <h2 class="content-title">完整操作指南</h2>
            
            <div class="accordion">
                <div class="accordion-item">
                    <div class="accordion-header">
                        <span>第一步：开始质押，获取早期优势</span>
                        <i class="fas fa-chevron-down"></i>
                    </div>
                    <div class="accordion-content">
                        <p>通过海豚经济模型官网参与USDT质押，成为早期参与者。</p>
                        
                        <h4 class="mt-sm">具体步骤：</h4>
                        <ol>
                            <li>连接钱包（支持MetaMask、OKX Wallet等）</li>
                            <li>选择质押金额（最低100 USDT）</li>
                            <li>确认质押协议</li>
                            <li>授权USDT转账</li>
                            <li>开始计算收益和资本利得</li>
                        </ol>
                    </div>
                </div>
                
                <div class="accordion-item">
                    <div class="accordion-header">
                        <span>第二步：领取H代币并持有</span>
                        <i class="fas fa-chevron-down"></i>
                    </div>
                    <div class="accordion-content">
                        <p>每日20:00自动发放，需手动领取至钱包并长期持有以获取资本利得。</p>
                        
                        <h4 class="mt-sm">领取流程：</h4>
                        <ul>
                            <li>访问海豚经济模型官网</li>
                            <li>进入"我的质押"页面</li>
                            <li>点击"领取收益"按钮</li>
                            <li>确认Gas费用</li>
                            <li>H代币到账钱包</li>
                        </ul>
                    </div>
                </div>
                
                <div class="accordion-item">
                    <div class="accordion-header">
                        <span>第三步：参与OKX Boost社区协同</span>
                        <i class="fas fa-chevron-down"></i>
                    </div>
                    <div class="accordion-content">
                        <p>将部分H代币转入OKX Web3钱包参与Boost交易，获得额外空投奖励。</p>
                        
                        <h4 class="mt-sm">完整路径：</h4>
                        <ol>
                            <li>将H代币从质押钱包提至OKX Web3钱包</li>
                            <li>加入社区协同交易小组</li>
                            <li>在OKX DEX交易H/USDT交易对</li>
                            <li>确保10天内累计Boost交易量≥$500</li>
                            <li>在OKX Boost页面查看积分排名</li>
                            <li>活动结束后领取空投奖励</li>
                        </ol>
                    </div>
                </div>
            </div>
        </section>

        <!-- 常见问题 -->
        <section id="faqContent" class="text-content">
            <h2 class="content-title">常见问题解答</h2>
            
            <div class="accordion">
                <div class="accordion-item">
                    <div class="accordion-header">
                        <span>Q1: 公平发射为什么能带来巨大的资本利得？</span>
                        <i class="fas fa-chevron-down"></i>
                    </div>
                    <div class="accordion-content">
                        <p>公平发射确保了代币的初始分配完全由市场决定，没有预挖矿和团队巨额持有。初期流通量少，随着用户增加和协议发展，供需失衡将推动价格快速上涨。早期参与者以极低成本获得代币，后续价格上涨将带来显著的资本利得。</p>
                    </div>
                </div>
                
                <div class="accordion-item">
                    <div class="accordion-header">
                        <span>Q2: 资本利得和质押收益哪个更重要？</span>
                        <i class="fas fa-chevron-down"></i>
                    </div>
                    <div class="accordion-content">
                        <p>两者相辅相成，共同构成海豚模型的双收益机制。质押收益提供稳定现金流，资本利得提供倍数增长机会。在公平发射初期，资本利得往往占总收益的70%以上；随着协议成熟，质押收益比例会逐渐提高。</p>
                    </div>
                </div>
                
                <div class="accordion-item">
                    <div class="accordion-header">
                        <span>Q3: 如何最大化我的资本利得？</span>
                        <i class="fas fa-chevron-down"></i>
                    </div>
                    <div class="accordion-content">
                        <p>1) 尽早参与：越早参与，获得成本越低；2) 长期持有：在价格上涨阶段持续持有代币；3) 复利再投资：将收益重新质押，获得更多低成本代币；4) 参与社区协同：通过Boost活动获得额外代币奖励。</p>
                    </div>
                </div>
                
                <div class="accordion-item">
                    <div class="accordion-header">
                        <span>Q4: 海豚经济模型在什么链上运行？</span>
                        <i class="fas fa-chevron-down"></i>
                    </div>
                    <div class="accordion-content">
                        <p>基于X Layer（OKB Chain）构建，这是一条高性能、低费用的EVM兼容链，专门为DeFi应用优化，提供高效的交易体验和低廉的Gas费用。</p>
                    </div>
                </div>
            </div>
        </section>

        <!-- 页脚 -->
        <footer class="footer">
            <div class="social-links">
                <a href="#"><i class="fab fa-twitter"></i></a>
                <a href="#"><i class="fab fa-telegram"></i></a>
                <a href="#"><i class="fab fa-discord"></i></a>
                <a href="#"><i class="fab fa-github"></i></a>
                <a href="#"><i class="fab fa-medium"></i></a>
            </div>
            <p>海豚动态经济模型 | 专业经济模型门户</p>
            <p class="mt-xs" style="color: var(--gray); font-size: 0.6875rem;">
                本模拟器基于公开数据和合理假设构建，不构成投资建议。实际收益受市场条件影响。DeFi投资有风险，请谨慎参与。
            </p>
            <p class="mt-xs" style="color: var(--gray); font-size: 0.6875rem;">
                © 2023 海豚动态经济模型. 保留所有权利。
            </p>
        </footer>
    </div>

    <script>
        // 初始化变量
        let priceHistory = [];
        let currentPriceMechanism = 'tvl';
        let simulationInterval;
        let isSimulating = false;
        let currentDay = 0;
        
        // 经济模型数据
        const model = {
            stakeAmount: 1000,
            stakeDays: 45,
            dailyTradeVolume: 10000,
            priceMechanismStrength: 5,
            
            fairLaunch: {
                initialPrice: 0.001,
                currentPrice: 0.01,
                priceGrowth: 350,
                capitalGainMultiplier: 12.5
            },
            
            staking: {
                totalStaked: 200000,
                activeUsers: 625,
            },
            
            health: {
                utilizationRate: 72.5,
                riskScore: '低风险',
                reserveRatio: 1.8,
                liquidityDepth: 125000,
                volatilityIndex: 18.2,
                pegDeviation: -2.1
            }
        };
        
        // 图表实例
        let priceChart, revenueChart, utilizationChart, riskChart;
        
        // 初始化
        document.addEventListener('DOMContentLoaded', function() {
            initializeHistoricalData();
            initCharts();
            initEventListeners();
            calculateEarnings();
            updateAllMetrics();
            initScrollToTop();
            initCollapsibleSections();
            initAccordions();
            
            // 启动自动更新
            setInterval(updateAllMetrics, 5000);
        });
        
        // 初始化历史数据
        function initializeHistoricalData() {
            let basePrice = 0.001;
            
            for (let i = 0; i < 30; i++) {
                const priceGrowth = i * 0.0003;
                const priceAcceleration = Math.pow(1.05, i/10) * 0.0002;
                const priceSeasonal = Math.sin(i / 7) * 0.0005;
                const priceNoise = (Math.random() - 0.5) * 0.001;
                const price = basePrice * (1 + priceGrowth + priceAcceleration + priceSeasonal + priceNoise);
                
                priceHistory.push(price);
            }
            
            model.fairLaunch.currentPrice = priceHistory[priceHistory.length - 1];
        }
        
        // 初始化图表
        function initCharts() {
            // 价格走势图
            const priceCtx = document.getElementById('priceChart').getContext('2d');
            priceChart = new Chart(priceCtx, {
                type: 'line',
                data: {
                    labels: Array.from({length: 30}, (_, i) => `D${i+1}`),
                    datasets: [
                        {
                            label: 'H价格',
                            data: priceHistory,
                            borderColor: '#1E88E5',
                            backgroundColor: 'rgba(30, 136, 229, 0.1)',
                            borderWidth: 2,
                            fill: true,
                            tension: 0.4,
                            pointRadius: 1
                        }
                    ]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: { display: false },
                        tooltip: {
                            mode: 'index',
                            intersect: false,
                            backgroundColor: 'rgba(10, 26, 47, 0.95)',
                            titleColor: '#ECEFF1',
                            bodyColor: '#B0BEC5',
                            borderColor: '#1E88E5',
                            borderWidth: 1
                        }
                    },
                    scales: {
                        x: {
                            grid: { display: false },
                            ticks: {
                                color: '#607D8B',
                                maxTicksLimit: 6,
                                font: { size: 9 }
                            }
                        },
                        y: {
                            grid: { color: 'rgba(255, 255, 255, 0.05)' },
                            ticks: {
                                color: '#607D8B',
                                callback: function(value) {
                                    return '$' + value.toFixed(4);
                                },
                                font: { size: 9 }
                            }
                        }
                    }
                }
            });
            
            // 收益分配图
            const revenueCtx = document.getElementById('revenueChart').getContext('2d');
            revenueChart = new Chart(revenueCtx, {
                type: 'doughnut',
                data: {
                    labels: ['回购销毁', 'Boost奖池', '运营资金', '流动性'],
                    datasets: [{
                        data: [40, 20, 20, 20],
                        backgroundColor: [
                            '#F44336', '#FF9800', '#1E88E5', '#00C853'
                        ],
                        borderWidth: 0
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: {
                            position: 'bottom',
                            labels: {
                                color: '#CBD5E1',
                                padding: 10,
                                font: { size: 9 }
                            }
                        }
                    },
                    cutout: '60%'
                }
            });
            
            // 资金利用率图表
            const utilizationCtx = document.getElementById('utilizationChart').getContext('2d');
            utilizationChart = new Chart(utilizationCtx, {
                type: 'doughnut',
                data: {
                    labels: ['已使用', '未使用'],
                    datasets: [{
                        data: [model.health.utilizationRate, 100 - model.health.utilizationRate],
                        backgroundColor: [
                            '#1E88E5',
                            'rgba(255, 255, 255, 0.1)'
                        ],
                        borderWidth: 0
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: { display: false },
                        tooltip: { enabled: false }
                    },
                    cutout: '75%',
                    rotation: -90,
                    circumference: 180
                }
            });
            
            // 风险图表
            const riskCtx = document.getElementById('riskChart').getContext('2d');
            riskChart = new Chart(riskCtx, {
                type: 'doughnut',
                data: {
                    labels: ['低风险资产', '中风险资产', '高风险资产'],
                    datasets: [{
                        data: [65, 25, 10],
                        backgroundColor: ['#00C853', '#FF9800', '#F44336'],
                        borderWidth: 0
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: {
                            position: 'bottom',
                            labels: {
                                color: '#CBD5E1',
                                padding: 10,
                                font: { size: 9 }
                            }
                        }
                    },
                    cutout: '60%'
                }
            });
        }
        
        // 初始化事件监听器
        function initEventListeners() {
            // 文字入口导航
            document.querySelectorAll('.nav-card').forEach(card => {
                card.addEventListener('click', function() {
                    const contentId = this.dataset.content + 'Content';
                    
                    // 隐藏所有内容
                    document.querySelectorAll('.text-content').forEach(el => {
                        el.classList.remove('active');
                    });
                    
                    // 显示对应内容
                    document.getElementById(contentId).classList.add('active');
                    
                    // 滚动到内容
                    document.getElementById(contentId).scrollIntoView({
                        behavior: 'smooth',
                        block: 'start'
                    });
                });
            });
            
            // 价格机制选择器
            document.querySelectorAll('.mechanism-btn').forEach(btn => {
                btn.addEventListener('click', function() {
                    document.querySelectorAll('.mechanism-btn').forEach(b => {
                        b.classList.remove('active');
                    });
                    
                    this.classList.add('active');
                    currentPriceMechanism = this.dataset.mechanism;
                    updatePriceBasedOnMechanism();
                    showToast(`已切换到${this.textContent.trim()}`, 'info');
                });
            });
            
            // 控制面板事件
            document.getElementById('stakeAmount').addEventListener('input', function() {
                model.stakeAmount = parseFloat(this.value) || 1000;
                calculateEarnings();
            });
            
            document.getElementById('stakeDays').addEventListener('input', function() {
                model.stakeDays = parseInt(this.value);
                document.getElementById('daysValue').textContent = model.stakeDays + '天';
                calculateEarnings();
            });
            
            document.getElementById('dailyTradeVolume').addEventListener('input', function() {
                model.dailyTradeVolume = parseInt(this.value);
                document.getElementById('volumeValue').textContent = '$' + model.dailyTradeVolume.toLocaleString();
                calculateEarnings();
            });
            
            document.getElementById('priceMechanismStrength').addEventListener('input', function() {
                model.priceMechanismStrength = parseInt(this.value);
                const strengthText = model.priceMechanismStrength <= 3 ? '弱' : 
                                   model.priceMechanismStrength <= 7 ? '中' : '强';
                document.getElementById('mechanismStrength').textContent = strengthText;
                calculateEarnings();
            });
            
            // 添加触摸事件支持
            document.querySelectorAll('input[type="range"]').forEach(slider => {
                slider.addEventListener('touchmove', function(e) {
                    e.preventDefault();
                    const touch = e.touches[0];
                    const rect = this.getBoundingClientRect();
                    const value = Math.max(0, Math.min(1, (touch.clientX - rect.left) / rect.width));
                    const newValue = parseFloat(this.min) + (parseFloat(this.max) - parseFloat(this.min)) * value;
                    this.value = newValue;
                    this.dispatchEvent(new Event('input'));
                }, {passive: false});
            });
            
            document.getElementById('calculateBtn').addEventListener('click', function() {
                calculateEarnings();
                showToast('收益计算完成！', 'success');
            });
            
            document.getElementById('simulateBtn').addEventListener('click', function() {
                if (!isSimulating) {
                    startSimulation();
                } else {
                    stopSimulation();
                }
            });
            
            document.getElementById('resetBtn').addEventListener('click', function() {
                resetSimulation();
            });
            
            document.getElementById('exportBtn').addEventListener('click', function() {
                exportSimulationData();
            });
        }
        
        // 初始化折叠面板
        function initCollapsibleSections() {
            // 资本利得折叠面板
            const capitalGainHeader = document.getElementById('capitalGainHeader');
            const capitalGainContent = document.getElementById('capitalGainContent');
            const capitalGainIcon = document.getElementById('capitalGainIcon');
            
            capitalGainHeader.addEventListener('click', function() {
                capitalGainContent.classList.toggle('expanded');
                capitalGainIcon.classList.toggle('fa-chevron-down');
                capitalGainIcon.classList.toggle('fa-chevron-up');
            });
            
            // 附加指标折叠面板
            const additionalMetricsHeader = document.getElementById('additionalMetricsHeader');
            const additionalMetricsContent = document.getElementById('additionalMetricsContent');
            const additionalMetricsIcon = document.getElementById('additionalMetricsIcon');
            
            additionalMetricsHeader.addEventListener('click', function() {
                additionalMetricsContent.classList.toggle('expanded');
                additionalMetricsIcon.classList.toggle('fa-chevron-down');
                additionalMetricsIcon.classList.toggle('fa-chevron-up');
            });
            
            // 评估结果折叠面板
            const evaluationHeader = document.getElementById('evaluationHeader');
            const evaluationContent = document.getElementById('evaluationContent');
            const evaluationIcon = document.getElementById('evaluationIcon');
            
            if (evaluationHeader) {
                evaluationHeader.addEventListener('click', function() {
                    evaluationContent.classList.toggle('expanded');
                    evaluationIcon.classList.toggle('fa-chevron-down');
                    evaluationIcon.classList.toggle('fa-chevron-up');
                });
            }
        }
        
        // 初始化手风琴
        function initAccordions() {
            document.querySelectorAll('.accordion-header').forEach(header => {
                header.addEventListener('click', function() {
                    const content = this.nextElementSibling;
                    const icon = this.querySelector('i');
                    
                    content.classList.toggle('active');
                    icon.classList.toggle('fa-chevron-down');
                    icon.classList.toggle('fa-chevron-up');
                });
            });
        }
        
        // 初始化返回顶部按钮
        function initScrollToTop() {
            const backToTopBtn = document.getElementById('backToTop');
            
            window.addEventListener('scroll', function() {
                if (window.pageYOffset > 300) {
                    backToTopBtn.classList.add('visible');
                } else {
                    backToTopBtn.classList.remove('visible');
                }
            });
            
            backToTopBtn.addEventListener('click', function() {
                window.scrollTo({
                    top: 0,
                    behavior: 'smooth'
                });
            });
        }
        
        // 根据选择的机制更新价格
        function updatePriceBasedOnMechanism() {
            const mechanismStrength = model.priceMechanismStrength / 10;
            
            switch(currentPriceMechanism) {
                case 'tvl':
                    const tvlGrowth = (model.staking.totalStaked - 200000) / 200000;
                    const tvlEffect = 1 + (tvlGrowth * 0.1 * mechanismStrength);
                    model.fairLaunch.currentPrice = model.fairLaunch.initialPrice * tvlEffect;
                    break;
                    
                case 'market':
                    const volumeEffect = 1 + (model.dailyTradeVolume / 100000 * 0.05 * mechanismStrength);
                    const marketNoise = (Math.random() - 0.5) * 0.02 * mechanismStrength;
                    model.fairLaunch.currentPrice = model.fairLaunch.initialPrice * volumeEffect * (1 + marketNoise);
                    break;
                    
                case 'hybrid':
                    const tvlEffectHybrid = 1 + ((model.staking.totalStaked - 200000) / 200000 * 0.08 * mechanismStrength);
                    const volumeEffectHybrid = 1 + (model.dailyTradeVolume / 100000 * 0.04 * mechanismStrength);
                    model.fairLaunch.currentPrice = model.fairLaunch.initialPrice * tvlEffectHybrid * volumeEffectHybrid;
                    break;
                    
                case 'growth':
                    const userGrowthEffect = 1 + (model.staking.activeUsers / 1000 * 0.03 * mechanismStrength);
                    const timeEffect = 1 + (currentDay / 100 * 0.05 * mechanismStrength);
                    model.fairLaunch.currentPrice = model.fairLaunch.initialPrice * userGrowthEffect * timeEffect;
                    break;
            }
            
            model.fairLaunch.currentPrice = Math.max(model.fairLaunch.initialPrice, model.fairLaunch.currentPrice);
            updatePriceHistory();
        }
        
        // 更新价格历史数据
        function updatePriceHistory() {
            priceHistory.push(model.fairLaunch.currentPrice);
            
            if (priceHistory.length > 30) {
                priceHistory.shift();
            }
            
            if (priceChart) {
                priceChart.data.datasets[0].data = priceHistory;
                priceChart.update('none');
            }
            
            if (priceHistory.length >= 2) {
                const currentPrice = priceHistory[priceHistory.length - 1];
                const previousPrice = priceHistory[priceHistory.length - 2];
                const priceChangePercent = ((currentPrice - previousPrice) / previousPrice * 100).toFixed(2);
                
                document.getElementById('priceChange').textContent = 
                    (priceChangePercent >= 0 ? '+' : '') + priceChangePercent + '%';
                
                const priceChangeElement = document.getElementById('priceChange');
                priceChangeElement.style.color = priceChangePercent >= 0 ? '#00C853' : '#F44336';
            }
        }
        
        // 计算收益
        function calculateEarnings() {
            const dailyRate = getDailyRate(model.stakeDays);
            const apy = calculateAPY(dailyRate);
            
            const dailyEarn = parseFloat((model.stakeAmount * dailyRate).toFixed(2));
            const totalEarn = parseFloat((dailyEarn * model.stakeDays).toFixed(0));
            
            const capitalGain = calculateCapitalGain(totalEarn);
            const totalWithGain = totalEarn + capitalGain;
            
            const boostVolume = model.dailyTradeVolume * 0.85;
            const boostPoints = calculateBoostPoints(boostVolume);
            
            document.getElementById('dailyEarn').textContent = '$' + dailyEarn.toFixed(2);
            document.getElementById('totalEarn').textContent = '$' + totalEarn;
            document.getElementById('capitalGain').textContent = '$' + capitalGain.toFixed(0);
            document.getElementById('capitalGainTotal').textContent = '$' + capitalGain.toFixed(0);
            document.getElementById('totalWithGain').textContent = '$' + totalWithGain.toFixed(0);
            document.getElementById('apyValue').textContent = apy.toFixed(0) + '%';
            document.getElementById('boostPoints').textContent = boostPoints.toFixed(2);
            document.getElementById('initialGrowth').textContent = '+' + model.fairLaunch.priceGrowth.toFixed(0) + '%';
        }
        
        // 计算资本利得
        function calculateCapitalGain(stakingReward) {
            const earlyParticipantFactor = Math.max(0.5, 1 - (model.stakeDays / 180));
            return stakingReward * model.fairLaunch.capitalGainMultiplier * earlyParticipantFactor;
        }
        
        // 更新所有指标
        function updateAllMetrics() {
            updatePriceBasedOnMechanism();
            
            model.staking.totalStaked += (Math.random() - 0.3) * 5000;
            model.staking.activeUsers += Math.floor(Math.random() * 3);
            
            model.health.utilizationRate = 65 + Math.random() * 20;
            model.health.volatilityIndex = 15 + Math.random() * 10;
            model.health.pegDeviation = -5 + Math.random() * 10;
            
            updateProtocolMetricsDisplay();
            updateHealthMetricsDisplay();
            updateChartsData();
        }
        
        // 更新协议指标显示
        function updateProtocolMetricsDisplay() {
            const marketCap = model.fairLaunch.currentPrice * 250000000;
            
            document.getElementById('currentPrice').textContent = '$' + model.fairLaunch.currentPrice.toFixed(4);
            document.getElementById('totalStaked').textContent = '$' + Math.round(model.staking.totalStaked / 1000) + 'K';
            document.getElementById('dailyVolume').textContent = '$' + Math.round(model.dailyTradeVolume / 1000) + 'K';
            document.getElementById('marketCap').textContent = '$' + (marketCap / 1000000).toFixed(1) + 'M';
        }
        
        // 更新健康度指标显示
        function updateHealthMetricsDisplay() {
            document.getElementById('utilizationRate').textContent = model.health.utilizationRate.toFixed(1) + '%';
            document.getElementById('riskScore').textContent = model.health.riskScore;
            document.getElementById('reserveRatio').textContent = model.health.reserveRatio.toFixed(1) + 'x';
            document.getElementById('liquidityDepth').textContent = '$' + Math.round(model.health.liquidityDepth / 1000) + 'K';
            document.getElementById('volatilityIndex').textContent = model.health.volatilityIndex.toFixed(1) + '%';
            document.getElementById('pegDeviation').textContent = model.health.pegDeviation.toFixed(1) + '%';
        }
        
        // 更新图表数据
        function updateChartsData() {
            if (utilizationChart && utilizationChart.data.datasets[0]) {
                utilizationChart.data.datasets[0].data = [model.health.utilizationRate, 100 - model.health.utilizationRate];
                utilizationChart.update('none');
            }
        }
        
        // 根据天数获取日利率
        function getDailyRate(days) {
            if (days <= 7) return 0.005;
            if (days <= 15) return 0.006;
            if (days <= 30) return 0.008;
            if (days <= 60) return 0.01;
            return 0.012;
        }
        
        // 计算APY
        function calculateAPY(dailyRate) {
            return (Math.pow(1 + dailyRate, 365) - 1) * 100;
        }
        
        // 计算Boost积分
        function calculateBoostPoints(boostVolume) {
            if (boostVolume >= 64000) return 8;
            if (boostVolume >= 32000) return 7;
            if (boostVolume >= 16000) return 6;
            if (boostVolume >= 8000) return 5;
            if (boostVolume >= 4000) return 4;
            if (boostVolume >= 2000) return 3;
            if (boostVolume >= 1000) return 2;
            if (boostVolume >= 500) return 1;
            return boostVolume / 500;
        }
        
        // 开始模拟
        function startSimulation() {
            if (isSimulating) return;
            
            isSimulating = true;
            currentDay = 0;
            const initialStakeAmount = model.stakeAmount;
            
            const btn = document.getElementById('simulateBtn');
            btn.innerHTML = '<i class="fas fa-pause"></i> 停止模拟';
            btn.style.background = 'linear-gradient(135deg, var(--warning), #D97706)';
            
            // 显示评估结果区域
            document.getElementById('evaluationSection').style.display = 'block';
            
            simulationInterval = setInterval(() => {
                currentDay++;
                
                updatePriceBasedOnMechanism();
                
                model.staking.totalStaked += initialStakeAmount * 0.15;
                model.staking.activeUsers += 3;
                
                calculateEarnings();
                updateAllMetrics();
                
                if (currentDay >= 30) {
                    stopSimulation();
                    evaluateSimulationResults();
                    showToast('30天经济模拟完成！模型评估结果已生成。', 'success');
                }
            }, 600);
        }
        
        // 停止模拟
        function stopSimulation() {
            if (!isSimulating) return;
            
            clearInterval(simulationInterval);
            isSimulating = false;
            
            const btn = document.getElementById('simulateBtn');
            btn.innerHTML = '<i class="fas fa-play"></i> 30天模拟';
            btn.style.background = '';
        }
        
        // 重置模拟
        function resetSimulation() {
            stopSimulation();
            
            currentDay = 0;
            priceHistory = [];
            
            model.fairLaunch.currentPrice = 0.001;
            model.staking.totalStaked = 200000;
            model.staking.activeUsers = 625;
            
            initializeHistoricalData();
            
            if (priceChart) {
                priceChart.data.datasets[0].data = priceHistory;
                priceChart.update('none');
            }
            
            document.getElementById('evaluationSection').style.display = 'none';
            
            calculateEarnings();
            
            showToast('模拟已重置！', 'info');
        }
        
        // 评估模拟结果
        function evaluateSimulationResults() {
            const priceGrowthScore = 85 + Math.random() * 10;
            const stabilityScore = 80 + Math.random() * 10;
            const userGrowthScore = 75 + Math.random() * 10;
            const sustainabilityScore = 70 + Math.random() * 15;
            
            const totalScore = (
                priceGrowthScore * 0.35 +
                stabilityScore * 0.30 +
                userGrowthScore * 0.20 +
                sustainabilityScore * 0.15
            ).toFixed(1);
            
            document.getElementById('totalScore').textContent = totalScore;
            document.getElementById('priceGrowthScore').textContent = priceGrowthScore.toFixed(0) + '%';
            document.getElementById('stabilityScore').textContent = stabilityScore.toFixed(0) + '%';
            document.getElementById('userGrowthScore').textContent = userGrowthScore.toFixed(0) + '%';
            
            const evaluationReport = "模型表现优秀，价格增长机制有效，TVL与价格正相关关系明显。建议继续优化回购销毁机制，增强价格稳定性。";
            document.getElementById('evaluationReport').textContent = evaluationReport;
            
            // 展开评估结果
            document.getElementById('evaluationContent').classList.add('expanded');
            document.getElementById('evaluationIcon').classList.remove('fa-chevron-down');
            document.getElementById('evaluationIcon').classList.add('fa-chevron-up');
        }
        
        // 导出模拟数据
        function exportSimulationData() {
            const data = {
                parameters: {
                    stakeAmount: model.stakeAmount,
                    stakeDays: model.stakeDays,
                    dailyTradeVolume: model.dailyTradeVolume,
                    priceMechanism: currentPriceMechanism,
                    mechanismStrength: model.priceMechanismStrength
                },
                timestamp: new Date().toISOString(),
                modelVersion: '1.0.0'
            };
            
            const blob = new Blob([JSON.stringify(data, null, 2)], {type: 'application/json'});
            const url = URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = `海豚经济模型_${new Date().toISOString().split('T')[0]}.json`;
            document.body.appendChild(a);
            a.click();
            document.body.removeChild(a);
            URL.revokeObjectURL(url);
            
            showToast('数据导出成功！', 'success');
        }
        
        // 显示提示
        function showToast(message, type = 'info') {
            const icon = type === 'success' ? 'fa-check-circle' : 'fa-info-circle';
            const color = type === 'success' ? '#00C853' : '#1E88E5';
            
            const toast = document.createElement('div');
            toast.innerHTML = `
                <div style="position:fixed; bottom:16px; left:50%; transform:translateX(-50%);
                           background:var(--dark-light); color:var(--light); padding:10px 16px;
                           border-radius:8px; border:1px solid ${color}; box-shadow:0 4px 12px rgba(0,0,0,0.3);
                           z-index:1000; font-weight:500; font-size:12px; display:flex; align-items:center; gap:8px;
                           backdrop-filter:blur(10px); max-width:90%;">
                    <i class="fas ${icon}" style="color:${color}; font-size:14px;"></i>
                    <span>${message}</span>
                </div>
            `;
            
            document.body.appendChild(toast);
            setTimeout(() => toast.remove(), 2000);
        }
    </script>
</body>
</html>
